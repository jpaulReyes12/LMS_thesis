<dir-admin-nav></dir-admin-nav>

<div class="container">
    <h1 class="big-header">Schedule <small>{{filteredSchedules.length}}</small></h1>
</div>

<div class="container">
  <div class="admin-controls">

    <div class="col-md-3 col-xs-12">
      <input type="text" class="form-control" ng-model="searchSchedule" placeholder="Search">
    </div>
    <button type="button" class="btn btn-success" ng-click="toggleAdd = !toggleAdd"><span class="fa fa-plus"></span> Add</button>
  </div>
</div>

<div class="container animate-fade" ng-hide="toggleAdd">
  <div class="row col-md-10">
    <div class="well container">
      <form name="schedForm">


        <div class="row">
          <!-- TEACHER -->
          <div class="col-md-3">
            <label>Teacher:</label>
            <select class="form-control"  placeholder="Teacher" required ng-model="sched.Teacher">
              <option disabled selected value="">Select one</option>
              <option ng-repeat="teacher in theTeachers | filter:{'utype':  'teacher'}:true"
              value="{{teacher.firstname}} {{teacher.lastname}}">{{teacher.firstname}} {{teacher.lastname}}</option>
            </select>
          </div>

          <!-- year & section -->
          <div class="col-md-3">
            <label>Year & Section:</label>
            <select class="form-control" required ng-model="sched.Section">
              <option disabled selected value="">Select one</option>
              <option value="Gr. 7 - A">Gr. 7 - A</option>
            </select>
          </div>

          <!-- SUBJECT -->
          <div class="col-md-3">
            <label>Subject:</label>
            <input type="text" placeholder="Subject" class="form-control" required ng-model="sched.Subject">
          </div>
        </div>



        <!-- TIME -->
        <div class="row">

          <div class="col-md-3">
            <label>Time Start:</label>
            <input type="time" placeholder="Teacher" class="form-control" required ng-model="sched.timeStart">
          </div>

          <div class="col-md-3">
            <label>Time End:</label>
            <input type="time" placeholder="Teacher" class="form-control" required ng-model="sched.timeEnd">
          </div>

          <div class="col-md-3">
            <label>Days:</label>
            <div class="btn-group btn-block" role="group">
              <button type="button" class="btn btn-default" uib-btn-checkbox ng-model="sched.Days.mon">M</button>
              <button type="button" class="btn btn-default" uib-btn-checkbox ng-model="sched.Days.tue">T</button>
              <button type="button" class="btn btn-default" uib-btn-checkbox ng-model="sched.Days.wed">W</button>
              <button type="button" class="btn btn-default" uib-btn-checkbox ng-model="sched.Days.thu">Th</button>
              <button type="button" class="btn btn-default" uib-btn-checkbox ng-model="sched.Days.fri">F</button>
            </div>
          </div>
        </div>


        <button type="button" class=" others btn btn-success btn-lg pull-right " ng-click="insertSched(sched)">
          Submit
        </button>


      </form>
    </div>
  </div>
</div>

<div class="container table-outline">
  <table class="table table-striped table-hover table-responsive">
    <thead>
      <tr>
        <th><input type="checkbox" ng-model="selectedAll" ng-click="checkAll()"></th>
        <!-- <th>
          <a ng-click="sortType = 'schedID'; sortReverse = !sortReverse">
            schedule_id
          <span ng-show="sortType == 'schedID' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'schedID' && sortReverse" class="fa fa-caret-up"></span>
        </th> -->
        <th>
          <a ng-click="sortType = 'section'; sortReverse = !sortReverse">
            Section
          <span ng-show="sortType == 'section' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'section' && sortReverse" class="fa fa-caret-up"></span>
        </th>
        <th>
          <a ng-click="sortType = 'subject'; sortReverse = !sortReverse">
            subject
          <span ng-show="sortType == 'subject' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'subject' && sortReverse" class="fa fa-caret-up"></span>
        </th>
        <th>
          <a ng-click="sortType = 'teacher'; sortReverse = !sortReverse">
            Teacher
          <span ng-show="sortType == 'teacher' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'teacher' && sortReverse" class="fa fa-caret-up"></span>
        </th>
        <th>
          <a ng-click="sortType = 'time'; sortReverse = !sortReverse">
            Time
          <span ng-show="sortType == 'time' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'time' && sortReverse" class="fa fa-caret-up"></span>
        </th>
        <th>
          <a ng-click="sortType = 'year'; sortReverse = !sortReverse">
            School_year
          <span ng-show="sortType == 'year' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'year' && sortReverse" class="fa fa-caret-up"></span>
        </th>
        <th>
          <a ng-click="sortType = 'active'; sortReverse = !sortReverse">
            isActive
          <span ng-show="sortType == 'active' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'active' && sortReverse" class="fa fa-caret-up"></span>
        </th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody ng-repeat="sched in theSchedule | orderBy:sortType:sortReverse | filter: searchSchedule as filteredSchedules">
      <tr>
        <td><input type="checkbox" ng-model="sched.Selected"></td>
        <!-- <td>{{sched.$id}}</td> -->
        <td>{{sched.Section}}</td>
        <td>{{sched.Subject}}</td>
        <td>{{sched.Teacher}}</td>
        <td>{{sched.timeStart | date: 'hh:mm a'}} - {{sched.timeEnd | date: 'hh:mm a'}}</td>
        <td>{{sched.SY}}</td>
        <td>{{sched.isActive}}</td>
        <td>
          <button type="button" class="btn btn-info">Edit</button>
          <button type="button" class="btn btn-danger" ng-show="sched.isActive == true">Deactivate</button>
          <button type="button" class="btn btn-success" ng-show="sched.isActive == false">Activate</button>
        </td>
      </tr>
  </table>
</div>
